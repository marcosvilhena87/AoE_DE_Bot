{
  "profile": "aoe1de",
  "threshold": 0.80,
  "threshold_fallback": 0.68,
  "scales": [0.84, 0.88, 0.92, 0.96, 1.0, 1.04, 1.08, 1.12, 1.16],
  "loop_minutes": 6,
  "debug": false,
  "ocr_debug": true,
  "verbose_logging": false,
  "ocr_conf_threshold": 58,
  "//ocr_conf_threshold": "Minimum OCR confidence (0-100); default 60. Tight ROIs may require 45-50.",
  "ocr_conf_min": 30,
  "//ocr_conf_min": "Lowest confidence allowed after adaptive decay.",
  "ocr_conf_decay": 0.8,
  "//ocr_conf_decay": "Multiplier applied to the confidence threshold after each failed OCR attempt.",
  "ocr_conf_max_attempts": 10,
  "//ocr_conf_max_attempts": "Full OCR retries before only lowering the confidence threshold.",
  "allow_low_conf_population": true,
  "//allow_low_conf_population": "Accept population digits even when confidence is below the threshold; logs a warning instead of raising.",
    "treat_low_conf_as_failure": true,
    "//treat_low_conf_as_failure": "Return None when OCR confidence is below threshold.",
    "wood_stockpile_low_conf_fallback": true,
    "food_stockpile_low_conf_fallback": true,
    "gold_stockpile_low_conf_fallback": false,
    "stone_stockpile_low_conf_fallback": false,
    "population_limit_low_conf_fallback": false,
    "//population_limit_low_conf_fallback": "Set true to reuse last population or accept zero-confidence population digits matching cur/cap.",
    "idle_villager_low_conf_fallback": false,
    "idle_villager_low_conf_streak": 5,
    "//*_low_conf_fallback": "Use cached value when OCR confidence is low.",
    "wood_stockpile_ocr_conf_threshold": 45,
    "food_stockpile_ocr_conf_threshold": 40,
    "gold_stockpile_ocr_conf_threshold": 45,
    "stone_stockpile_ocr_conf_threshold": 45,
    "population_limit_ocr_conf_threshold": 40,
    "idle_villager_ocr_conf_threshold": 40,
    "//*_ocr_conf_threshold": "Optional per-resource OCR confidence overrides.",
    "food_stockpile_max_width": 60,
    "//food_stockpile_max_width": "Maximum width of the food stockpile ROI.",
    "ocr_retry_limit": 3,
    "//ocr_retry_limit": "Consecutive OCR failures before using fallback value.",
    "ocr_roi_expand_base": 3,
    "//ocr_roi_expand_base": "Base pixel margin to expand OCR ROI after a miss.",
    "ocr_roi_expand_step": 3,
    "//ocr_roi_expand_step": "Additional pixels to grow the OCR ROI per consecutive failure.",
    "ocr_roi_expand_growth": 2.2,
    "//ocr_roi_expand_growth": "Exponent controlling ROI growth rate; >1 grows faster.",
    "population_ocr_roi_expand_base": 2,
    "//population_ocr_roi_expand_base": "Base pixel margin to expand population ROI after a miss.",
    "population_ocr_roi_expand_step": 2,
    "//population_ocr_roi_expand_step": "Additional pixels to grow the population ROI per consecutive failure.",
    "population_ocr_roi_expand_growth": 2.0,
    "//population_ocr_roi_expand_growth": "Exponent controlling population ROI growth rate; >1 grows faster.",
    "ocr_kernel_size": 1,
    "ocr_top_crop": 1,
    "ocr_top_crop_overrides": {
      "wood_stockpile": 0,
      "food_stockpile": 0,
      "population_limit": 0,
      "idle_villager": 0
    },
    "//ocr_top_crop_overrides": "Disable top cropping for wood and food stockpiles to avoid clipping digits.",
    "ocr_blur_kernel": 3,
    "//ocr_blur_kernel": "Median blur kernel before OCR; set >1 to enable; 0 disables.",
    "ocr_bilateral": [7, 60, 60],
  "ocr_equalize_hist": true,
  "ocr_contrast_stretch": true,
  "ocr_psm_list": [7, 6, 11, 13],
  "ocr_zero_variance": 15,
  "tesseract_path": "C:\\Program Files\\Tesseract-OCR\\tesseract.exe",
  "resource_cache_ttl": 1.5,
  "resource_cache_max_age": null,
  "disable_roi_overrides_on_calibration": false,
  "roi_variance_threshold": 5,
  "keys": {
    "idle_vill": ".",
    "build_menu": "b",
    "house": "e",
    "select_tc": "h",
    "train_vill": "q",
    "granary": "g",
    "storage_pit": "s"
  },
    "resource_panel": {
        "match_threshold": 0.8,
        "scales": [0.9, 0.95, 1.0, 1.05, 1.1],
        "roi_padding_left":  [2, 2, 0, 0, 0, 0],
        "roi_padding_right": [4, 4, 0, 0, 0, 0],
        "max_width": [120, 160, 160, 160, 160, 160],
        "min_width": [3, 3, 3, 3, 3, 2],
        "min_required_width": 12,
        "idle_roi_extra_width": 12,
        "min_pop_width": 60,
        "pop_roi_extra_width": 12,
        "top_pct": 0.06,
        "height_pct": 0.88,
        "icon_trim_pct": [0.28, 0.30, 0.30, 0.30, 0.30, 0.00],
        "right_trim_pct": 0.02,
        "debug_failed_ocr": true
      },
  "hud_icons": {
    "required": [
      "wood_stockpile",
      "food_stockpile",
      "gold_stockpile",
      "stone_stockpile",
      "population_limit",
      "idle_villager"
    ],
    "optional": []
  },
  "wood_stockpile_roi": {
    "top_pct": 0.111,        
    "height_pct": 0.027,    
    "left_pct": 0.19,       
    "width_pct": 0.03       
  },
  "food_stockpile_roi": {
    "top_pct": 0.111,       
    "height_pct": 0.027,    
    "left_pct": 0.236,      
    "width_pct": 0.03       
  },
  "gold_stockpile_roi": {
    "top_pct": 0.111,
    "height_pct": 0.027,
    "left_pct": 0.282,
    "width_pct": 0.03
  },
  "stone_stockpile_roi": {
    "top_pct": 0.111,
    "height_pct": 0.027,
    "left_pct": 0.328,
    "width_pct": 0.03
  },
  "population_limit_roi": {
    "top_pct": 0.111,
    "height_pct": 0.027,
    "left_pct": 0.374,
    "width_pct": 0.05
  },
  "idle_villager_roi": {
    "top_pct": 0.10,
    "height_pct": 0.06,
    "left_pct": 0.84,
    "width_pct": 0.04
  },
  "profiles": {
      "aoe1de": {
        "resource_panel": {
          "match_threshold": 0.82
        }
      }
    },
  "areas": {
    "food_spot": [0.46, 0.7],
    "wood_spot": [0.62, 0.55],
    "house_spot": [0.47, 0.72],
    "granary_spot": [0.44, 0.66],
    "storage_spot": [0.58, 0.52],
    "pop_box": [0.0, 0.0, 0.1, 0.1],
    "//pop_box": "[x, y, w, h] como frações da tela; calibrar depois."
  },
  "timers": {
    "house_interval": 45.0,
    "idle_gap": 0.35,
    "loop_sleep": 0.7
  }
}
